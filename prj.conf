CONFIG_CACHE_MANAGEMENT=y
CONFIG_ICACHE=y

CONFIG_LOG=y
# All logging handled in dedicated thread (format + output); callers only enqueue
CONFIG_LOG_MODE_DEFERRED=y
# Increase buffer so high-rate logs don't drop (tune if needed)
CONFIG_LOG_BUFFER_SIZE=2048

# Full libc for TFLM and general use
CONFIG_REQUIRES_FULL_LIBC=y

CONFIG_DISPLAY=y
CONFIG_MIPI_DBI=y
CONFIG_SPI=y
CONFIG_SPI_STM32_DMA=y
CONFIG_GPIO=y
CONFIG_CBPRINTF_FP_SUPPORT=y

CONFIG_DMA=y
# UART DMA: when console UART has dmas in devicetree (uart_dma.overlay),
# the STM32 driver uses DMA if its Kconfig supports it (symbol name may vary per Zephyr/board).

CONFIG_I2C=y
CONFIG_VIDEO=y
CONFIG_VIDEO_OV5640=y
# Use out-of-tree STM32U5 DCMI driver (st,stm32u5-dcmi); in-tree driver not used
# CONFIG_VIDEO_STM32_DCMI=n
CONFIG_VIDEO_STM32U5_DCMI=y

CONFIG_HEAP_MEM_POOL_SIZE=98304
CONFIG_VIDEO_BUFFER_POOL_SZ_MAX=81920
CONFIG_VIDEO_BUFFER_POOL_NUM_MAX=2
CONFIG_VIDEO_BUFFER_POOL_ALIGN=64

# CONFIG_VIDEO_LOG_LEVEL_DBG=y
# CONFIG_DMA_LOG_LEVEL_DBG=y

CONFIG_CPP=y
CONFIG_STD_CPP17=y
CONFIG_TENSORFLOW_LITE_MICRO=y
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_REQUIRES_FLOAT_PRINTF=y
